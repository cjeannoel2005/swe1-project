-- User Table
CREATE TABLE User (
    customerId INTEGER PRIMARY KEY AUTOINCREMENT,
    username VARCHAR(255) NOT NULL,
    email VARCHAR(255) NOT NULL,
    password VARCHAR(255) NOT NULL,
    isAdmin BOOLEAN NOT NULL DEFAULT 0
);

-- ShoppingCart Table
CREATE TABLE ShoppingCart (
    cartId INTEGER PRIMARY KEY AUTOINCREMENT,
    userId INTEGER,
    isEmpty BOOLEAN NOT NULL DEFAULT 1,
    FOREIGN KEY (userId) REFERENCES User(customerId)
);

-- ShoppingCartItem Table
CREATE TABLE ShoppingCartItem (
    cartItemId INTEGER PRIMARY KEY AUTOINCREMENT,
    cartId INTEGER,
    bookId VARCHAR(255),
    quantity INTEGER NOT NULL,
    FOREIGN KEY (cartId) REFERENCES ShoppingCart(cartId),
    FOREIGN KEY (bookId) REFERENCES Inventory(bookId)
);

-- Shipping Table
CREATE TABLE Shipping (
    shippingType VARCHAR(255) PRIMARY KEY,
    price DECIMAL(10, 2) NOT NULL
);

-- Inventory Table
CREATE TABLE Inventory (
    bookId VARCHAR(255) PRIMARY KEY,
    title VARCHAR(255) NOT NULL,
    description TEXT NOT NULL,
    price DECIMAL(10, 2) NOT NULL,
    quantity INTEGER NOT NULL,
    inStock BOOLEAN NOT NULL DEFAULT 1,
    picture VARCHAR(255) NOT NULL
);

-- Order Table
CREATE TABLE `Order` (
    orderId INTEGER PRIMARY KEY AUTOINCREMENT,
    cartId INTEGER,
    userId INTEGER,
    shippingType VARCHAR(255),
    shippingAddress VARCHAR(255) NOT NULL,
    serialNumber INTEGER NOT NULL,
    tax DECIMAL(10, 2) NOT NULL,
    subTotal DECIMAL(10, 2) NOT NULL,
    grandTotal DECIMAL(10, 2) NOT NULL,
    FOREIGN KEY (cartId) REFERENCES ShoppingCart(cartId),
    FOREIGN KEY (userId) REFERENCES User(customerId),
    FOREIGN KEY (shippingType) REFERENCES Shipping(shippingType)
);
